// ⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⢿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿
// ⣿⣿⣿⣿⣿⣿⣿⣿⣽⣿⣿⣿⣿⣿⣿⣿⣾⣭⡟⣟⢿⢿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿
// ⣿⣿⣿⣿⣿⣿⢿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣶⣷⣲⣿⣻⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿
// ⣿⣿⣿⣿⣿⠟⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⢿⣿⣿⣿⣿⣿⣿⣿⣿
// ⣿⣿⣿⣿⣏⣾⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⣾⡿⡯⣿⣿⣿⣿⣿⣿⣿⣿
// ⣿⣿⣿⣿⣿⣿⣿⣿⠟⢩⣟⡿⣿⡿⢿⠛⠛⠙⠋⠛⢛⢿⣿⣟⣷⠋⣿⣿⣿⣿⣿⣿⣿⣿
// ⣿⣿⣿⣿⣿⣿⣟⠉⠀⠀⠂⠂⠁⠀⠈⠀⠀⠀⠀⠀⠀⠂⢻⣿⣯⣻⢹⣿⣿⣿⣿⣿⣿⣿
// ⣿⣿⣿⣿⣿⣿⡇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠘⣿⣿⣷⢸⣿⣿⣿⣿⣿⣿⣿
// ⣿⣿⣿⡟⢿⣿⠀⢀⣴⣶⣶⣶⣶⡄⠀⢀⣶⣶⣶⣶⣤⡀⠀⢻⣿⣿⣯⣿⣿⣿⣿⣿⣿⣿
// ⣿⣿⣿⡧⠸⣿⠀⠈⠛⠋⢙⣻⠿⠃⠀⠘⠿⡟⠻⠿⢿⡏⠀⠘⣿⣿⣁⣿⣿⣿⣿⣿⣿⣿
// ⣿⣿⣿⡋⣠⡇⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⠀⠀⠀⠀⠀⠀⠀⢟⣀⠙⣿⣿⣿⣿⣿⣿⣿
// ⣿⣿⣿⡅⠠⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⠉⠅⣿⣿⣿⣿⣿⣿⣿
// ⣿⣿⣿⣷⣀⣺⡄⠀⠀⠀⠀⠀⠻⣶⣶⠾⠗⠀⠀⠀⠀⠀⠀⢠⠄⠀⣸⣿⣿⣿⣿⣿⣿⣿
// ⣿⣿⣿⣿⣿⣿⣧⠀⠀⠀⢀⣀⣀⣈⣉⣀⡀⢀⠀⠀⠀⠀⠀⠈⢱⣾⣿⣿⣿⣿⣿⣿⣿⣿
// ⣿⣿⣿⣿⣿⣿⣿⣦⠀⢀⠉⠈⢉⣉⣉⣉⠙⠛⠇⠀⠀⠀⠀⠀⠀⣿⣿⣿⣿⣿⣿⣿⣿⣿
// ⣿⣿⣿⣿⣿⣿⣿⣿⣧⠀⠊⠀⠉⠛⠛⠛⠉⠒⠁⠀⠀⠀⠀⠀⠀⠹⣿⣿⣿⣿⣿⣿⣿⣿
// ⣿⣿⣿⣿⣿⣿⣿⣿⣿⡈⢢⣰⣠⣶⣤⣄⣀⣀⣤⣶⡃⠀⠀⡀⠙⣀⣬⣿⣿⣿⣿⣿⣿⣿
// ⣿⣿⣿⣿⣿⣿⣿⣿⣿⣇⠀⠛⣿⣿⣿⣿⣿⣿⣿⠟⠁⠀⠀⣰⣿⠟⠻⣦⡈⠢⣙⢿⣿⣿
// ⣿⣿⣿⣿⣿⣿⣿⣿⣿⣿⡄⢨⣽⣿⣿⣿⣿⣿⣟⡰⣀⣠⣾⣿⣿⣿⣦⡈⠻⢦⣈⠢⡙⢻⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀

const server = require("./src/app.js");
const { conn } = require("./src/db.js");
const poblarBaseDeDatos = require("./src/seeders/cargaBaseDeDatos.js");

 
// Syncing all the models at once.
// hooks
require("./src/helpers/updateReviews.js");

conn.sync({ force: true }).then(() => {
  //poblarBaseDeDatos(); //comentada para evitar muchas consultas, usar endpoint
  server.listen(3001, () => {
    console.log("%s listening at 3001"); // eslint-disable-line no-console
  });
});
